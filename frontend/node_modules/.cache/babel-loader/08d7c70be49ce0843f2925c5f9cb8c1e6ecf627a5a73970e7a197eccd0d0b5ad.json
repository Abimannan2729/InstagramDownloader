{"ast":null,"code":"import React,{useState}from'react';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function App(){const[url,setUrl]=useState('');const[mediaList,setMediaList]=useState([]);const[loading,setLoading]=useState(false);const handlePreview=async()=>{if(!url)return alert('Please enter an Instagram URL');setLoading(true);try{const res=await fetch('http://localhost:5000/api/download',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({url,preview:true})});const data=await res.json();if(data.media)setMediaList(data.media);else alert('No media found');}catch(err){alert('Error fetching media: '+err.message);}setLoading(false);};const handleDownload=(mediaUrl,type)=>{// Trigger download via backend\nconst link=document.createElement('a');link.href='http://localhost:5000/api/download';link.method='POST';link.target='_blank';// Use a form submission to POST mediaUrl\nconst form=document.createElement('form');form.method='POST';form.action='http://localhost:5000/api/download';form.target='_blank';const input=document.createElement('input');input.type='hidden';input.name='mediaUrl';input.value=mediaUrl;form.appendChild(input);document.body.appendChild(form);form.submit();document.body.removeChild(form);};return/*#__PURE__*/_jsxs(\"div\",{className:\"min-h-screen bg-gray-100 flex flex-col items-center justify-start p-6\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-3xl font-bold mb-6\",children:\"Instagram Downloader\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"w-full max-w-md mb-4\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Enter Instagram URL\",value:url,onChange:e=>setUrl(e.target.value),className:\"w-full p-2 border border-gray-300 rounded mb-2\"}),/*#__PURE__*/_jsx(\"button\",{onClick:handlePreview,className:\"w-full bg-blue-500 text-white p-2 rounded hover:bg-blue-600 transition\",disabled:loading,children:loading?'Loading...':'Preview'})]}),/*#__PURE__*/_jsx(\"div\",{className:\"w-full max-w-md grid grid-cols-1 gap-4 mt-4\",children:mediaList.map((media,index)=>/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white p-2 rounded shadow-md flex flex-col items-center\",children:[media.type==='image'?/*#__PURE__*/_jsx(\"img\",{src:media.url,alt:\"Instagram\",className:\"max-w-full rounded mb-2\"}):/*#__PURE__*/_jsx(\"video\",{src:media.url,controls:true,className:\"max-w-full rounded mb-2\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleDownload(media.url,media.type),className:\"bg-green-500 text-white px-4 py-1 rounded hover:bg-green-600 transition\",children:\"Download\"})]},index))})]});}export default App;","map":{"version":3,"names":["React","useState","jsx","_jsx","jsxs","_jsxs","App","url","setUrl","mediaList","setMediaList","loading","setLoading","handlePreview","alert","res","fetch","method","headers","body","JSON","stringify","preview","data","json","media","err","message","handleDownload","mediaUrl","type","link","document","createElement","href","target","form","action","input","name","value","appendChild","submit","removeChild","className","children","placeholder","onChange","e","onClick","disabled","map","index","src","alt","controls"],"sources":["D:/project/InstaDownLoader/frontend/src/App.js"],"sourcesContent":["import React, { useState } from 'react';\n\nfunction App() {\n  const [url, setUrl] = useState('');\n  const [mediaList, setMediaList] = useState([]);\n  const [loading, setLoading] = useState(false);\n\n  const handlePreview = async () => {\n    if (!url) return alert('Please enter an Instagram URL');\n    setLoading(true);\n    try {\n      const res = await fetch('http://localhost:5000/api/download', {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({ url, preview: true }),\n      });\n      const data = await res.json();\n      if (data.media) setMediaList(data.media);\n      else alert('No media found');\n    } catch (err) {\n      alert('Error fetching media: ' + err.message);\n    }\n    setLoading(false);\n  };\n\n  const handleDownload = (mediaUrl, type) => {\n    // Trigger download via backend\n    const link = document.createElement('a');\n    link.href = 'http://localhost:5000/api/download';\n    link.method = 'POST';\n    link.target = '_blank';\n    \n    // Use a form submission to POST mediaUrl\n    const form = document.createElement('form');\n    form.method = 'POST';\n    form.action = 'http://localhost:5000/api/download';\n    form.target = '_blank';\n\n    const input = document.createElement('input');\n    input.type = 'hidden';\n    input.name = 'mediaUrl';\n    input.value = mediaUrl;\n    form.appendChild(input);\n    document.body.appendChild(form);\n    form.submit();\n    document.body.removeChild(form);\n  };\n\n  return (\n    <div className=\"min-h-screen bg-gray-100 flex flex-col items-center justify-start p-6\">\n      <h1 className=\"text-3xl font-bold mb-6\">Instagram Downloader</h1>\n\n      <div className=\"w-full max-w-md mb-4\">\n        <input\n          type=\"text\"\n          placeholder=\"Enter Instagram URL\"\n          value={url}\n          onChange={(e) => setUrl(e.target.value)}\n          className=\"w-full p-2 border border-gray-300 rounded mb-2\"\n        />\n        <button\n          onClick={handlePreview}\n          className=\"w-full bg-blue-500 text-white p-2 rounded hover:bg-blue-600 transition\"\n          disabled={loading}\n        >\n          {loading ? 'Loading...' : 'Preview'}\n        </button>\n      </div>\n\n      <div className=\"w-full max-w-md grid grid-cols-1 gap-4 mt-4\">\n        {mediaList.map((media, index) => (\n          <div key={index} className=\"bg-white p-2 rounded shadow-md flex flex-col items-center\">\n            {media.type === 'image' ? (\n              <img src={media.url} alt=\"Instagram\" className=\"max-w-full rounded mb-2\" />\n            ) : (\n              <video src={media.url} controls className=\"max-w-full rounded mb-2\" />\n            )}\n            <button\n              onClick={() => handleDownload(media.url, media.type)}\n              className=\"bg-green-500 text-white px-4 py-1 rounded hover:bg-green-600 transition\"\n            >\n              Download\n            </button>\n          </div>\n        ))}\n      </div>\n    </div>\n  );\n}\n\nexport default App;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}